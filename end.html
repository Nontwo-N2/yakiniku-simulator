<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>遊戲結束</title>
<style>
body{
  margin:0;
  /* 結束頁面背景：深夜暖光 */
  background:linear-gradient(135deg,#2b1d14,#1a120c);
  font-family:sans-serif;
  display:flex;justify-content:center;align-items:center;height:100vh;flex-direction:column;
}

/* 遊戲結束標題 */
h1{
    margin-bottom:24px;
    font-size:48px; /* 放大標題 */
    color:#ffddaa;
    text-shadow:
        0 0 8px #ff6a00, /* 火光 */
        0 0 15px rgba(255,100,0,0.5); /* 柔和外光 */
    animation: appear 1s ease-out;
}

/* 資訊框 */
.infoBox{
  background:linear-gradient(180deg,#fff,#f7efe3);
  padding:24px 40px;
  border-radius:24px;
  box-shadow:0 20px 40px rgba(0,0,0,.4); /* 增強陰影 */
  text-align:center;
  margin:12px 0;
  min-width: 200px;
  transition: transform 0.3s;
}

/* 結束原因 */
#endReason {
    font-size: 20px;
    font-weight: 700;
    color: #ffd700; /* 金色提示 */
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    margin-top: 10px;
    margin-bottom: 20px;
    opacity: 0; /* 初始隱藏，用 JS 顯示 */
}

/* 分數數值特效 */
.infoBox .label{font-size:16px;color:#555;opacity:.8;margin-bottom:6px;}
.infoBox .value{
    font-size:32px; /* 放大數值 */
    font-weight:900;
    color:#ff6a00;
    animation: scorePulse 2s infinite alternate; /* 數字跳動閃爍 */
}

@keyframes scorePulse {
    from { color: #ff6a00; transform: scale(1.0); }
    to { color: #ffb703; transform: scale(1.05); }
}

/* 按鈕 */
button{
  padding:14px 30px;
  border-radius:999px;border:none;font-size:18px;cursor:pointer;
  background:linear-gradient(135deg,#4caf50,#2e8b57); /* 綠色重玩按鈕 */
  color:#fff;
  font-weight:700;
  box-shadow:0 6px 15px rgba(0,0,0,.25);
  margin-top:30px;
  transition:transform .15s, box-shadow .15s;
}
button:hover {
    transform:translateY(-2px) scale(1.02);
    box-shadow:0 10px 30px rgba(46,139,87,0.8);
}

@keyframes appear {
    from { opacity: 0; transform: translateY(-30px); }
    to { opacity: 1; transform: translateY(0); }
}

/* 手機適配 */
@media (max-width: 600px) {
    h1 { font-size: 40px; }
    .infoBox { padding: 20px 30px; }
    .infoBox .value { font-size: 28px; }
}
</style>
</head>
<body>
<h1>遊戲結束</h1>

<div id="endReason"></div>

<div class="infoBox">
  <div class="label">總花費金額</div>
  <div class="value" id="money">0</div>
</div>

<div class="infoBox">
  <div class="label">最終飽足感</div>
  <div class="value" id="full">0</div>
</div>

<button onclick="location.href='index.html'">重新遊戲</button>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // 讀取分數
    const finalMoney = localStorage.getItem('finalMoney') || 0;
    const finalFull = localStorage.getItem('finalFull') || 0;
    const endReason = localStorage.getItem('endReason') || '未知';

    document.getElementById('money').textContent = finalMoney;
    document.getElementById('full').textContent  = finalFull;
    document.getElementById('endReason').textContent = '結束原因：' + endReason;

    // 分數顯示動畫 (延遲 0.5s 顯示原因)
    setTimeout(() => {
        document.getElementById('endReason').style.opacity = '1';
        document.getElementById('endReason').style.transition = 'opacity 0.5s';
    }, 500);
});
</script>
</body>
</html>
